<!DOCTYPE html>
<html>
	<head>
		<title>Test</title>
        <script type="text/javascript" charset="UTF-8" src="../lib/bool.js"></script>
        <script type="text/javascript" charset="UTF-8" src="../lib/comp.js"></script>
        <script type="text/javascript" charset="UTF-8" src="../lib/cond.js"></script>
        <script type="text/javascript" charset="UTF-8" src="../lib/func.js"></script>
        <script type="text/javascript" charset="UTF-8" src="../lib/list.js"></script>
        <script type="text/javascript" charset="UTF-8" src="../lib/math.js"></script>
        <script type="text/javascript" charset="UTF-8" src="../lib/types.js"></script>
		<script type="text/javascript">

			function run()
			{
				comp()
				bool()
				math()
				list()
			}

			function math()
			{
			    console.log('Math')

			    var mul = new Mul(4, 8)
				check(mul, 32)

				var sub = new Sub(4, 8)
				check(sub, -4)

				console.log('')
			}

			function bool()
			{
			    console.log('Bool')

			    var not = new Not(true)
				check(not, false)

				var and = new And(true, false)
				check(and, false)

				var or = new Or(true, false)
				check(or, true)

				console.log('')
			}

			function comp()
			{
			    console.log('Comp')

			    var equal = new Equal(3, 4)
				check(equal, false)

				var notEqual = new NotEqual(3, 4)
				check(notEqual, true)

				var lessThan = new LessThan(3, 4)
				check(lessThan, true)

				var lessEqual = new LessEqual(3, 4)
				check(lessEqual, true)

				var greaterThan = new GreaterThan(3, 4)
				check(greaterThan, false)

				var greaterEqual = new GreaterEqual(3, 4)
				check(greaterEqual, false)

				console.log('')
			}

			function list()
			{
			    console.log('List')

                var length = new Length([1, 2, 3])
				check(length, 3)

			    var head = new Head([1, 2, 3])
				check(head, 1)

				var tail = new Tail([1, 2, 3])
				check(tail, [2, 3])

				var append = new Append(1, [2, 3])
				check(append, [1, 2, 3])

                console.log('')
			}

			function check(expression, expected)
			{
			    var actual = expression.eval()

			    if (equal(actual, expected))
			    {
			        console.log(true)
                }
                else
                {
                    console.error(actual, expected)
                }
			}

			function equal(actual, expected)
			{
			    if (Array.isArray(actual))
			    {
			        return actual.equals(expected)
			    }
			    else
			    {
			        return actual === expected
			    }
			}

		</script>
	</head>
	<body onload="run()">
	</body>
</html>